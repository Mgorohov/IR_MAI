### Выполнил: Горохов Михаил Сергеевич  
#### Группа:М8О-409Б-22
## Описание Проекта

Этот проект представляет собой простую систему информационного поиска, разработанную в рамках курсового задания. Система индексирует коллекцию текстовых документов и позволяет выполнять булев поиск с использованием логических операторов. Основные компоненты, такие как индекс и поисковая логика, реализованы на C/C++ без использования стандартной библиотеки шаблонов (STL) для внутренних структур данных, за исключением компонентов токенизации, где STL разрешена. Python используется для сценариев сбора данных, загрузки в базу данных и предоставления пользовательских интерфейсов (веб и командной строки) через биндинги `ctypes`.

## Особенности

*   **Сбор корпуса документов:** Автоматизированный скрипт для загрузки текстовых документов (в настоящее время из Project Gutenberg).
*   **Хранение документов:** Документы хранятся в базе данных MongoDB.
*   **Токенизация:** Обработка текста для извлечения значимых слов (токенов).
*   **Стемминг:** Приведение слов к их базовой форме (используется упрощенный алгоритм Портера).
*   **Инвертированный индекс:** Пользовательская реализация хеш-таблицы на C++ для эффективного хранения и поиска терминов.
*   **Булев поиск:** Поддержка поиска по нескольким словам с неявной логикой И (AND), а также явного оператора НЕ (NOT) (например, "слово1 NOT слово2" или "слово1 -слово2").
*   **Пользовательские интерфейсы:**
    *   Интерфейс командной строки (CLI) для интерактивного поиска.
    *   Веб-сервис на базе Flask для поиска через браузер.
*   **Тестирование:** Автоматизированные тесты для проверки корректности функций токенизации, стемминга и булева поиска.

## Технологический Стек

*   **C/C++:** Ядро индексации и поиска (без STL для основных структур данных).
*   **Python 3:** Скрипты для сбора данных, загрузки в БД, CLI и веб-сервиса.
*   **MongoDB:** База данных для хранения документов.
*   **Flask:** Фреймворк для веб-сервиса.
*   **ctypes:** Python-библиотека для взаимодействия с функциями C/C++.
*   **BeautifulSoup4, requests:** Для веб-скрейпинга.
*   **pymongo:** Python-драйвер для MongoDB.

## Запуск Проекта

Следуйте этим инструкциям для установки и запуска системы.

### 1. Предварительные требования

Убедитесь, что у вас установлены:
*   Компилятор C++ (например, g++).
*   Python 3 и pip.
*   Установлен и запущен сервер MongoDB (доступный по умолчанию `mongodb://localhost:27017/`).

### 2. Установка зависимостей Python

Перейдите в корневую директорию проекта и установите необходимые библиотеки Python:

```bash
pip install -r requirements.txt
```

Или установите зависимости вручную:

```bash
pip install pymongo Flask beautifulsoup4 requests matplotlib pandas
```

### 3. Компиляция C++ библиотеки

Перейдите в корневую директорию проекта и скомпилируйте общую библиотеку C++. Это создаст файл `libir_system.so`.

```bash
g++ -shared -fPIC src/tokenizer.cpp src/stemmer.cpp src/boolean_index.cpp src/index_builder.cpp src/zipf_analyzer.cpp -o libir_system.so
```

### 4. Загрузка корпуса документов

Запустите скрипт для скачивания документов. По умолчанию он скачивает 20 документов из Project Gutenberg. Чтобы изменить количество, отредактируйте переменную `max_documents` в `scripts/download_documents.py`.

```bash
python3 scripts/download_documents.py
```

### 5. Загрузка документов в MongoDB

Загрузите скачанные документы в MongoDB:

```bash
python3 scripts/load_to_mongodb.py
```

### 6. Запуск CLI интерфейса поиска

Запустите интерфейс командной строки. Индекс будет построен при запуске, после чего вы сможете вводить поисковые запросы. Введите `q` для выхода.

```bash
python3 scripts/cli_search.py
```
*Поддерживаемая логика:* неявное И (например, "слово1 слово2" найдет документы, содержащие "слово1" И "слово2"), а также оператор НЕ (например, "слово1 NOT слово2" или "слово1 -слово2").

### 7. Запуск веб-сервиса

Запустите веб-сервис Flask. Индекс будет построен при запуске приложения.

```bash
python3 scripts/web_service.py
```

После запуска откройте ваш веб-браузер и перейдите по адресу `http://127.0.0.1:5000/`. Вы увидите веб-форму поиска, где сможете вводить запросы.

*Поддерживаемая логика:* неявное И (например, "слово1 слово2") и оператор НЕ (например, "слово1 NOT слово2" или "слово1 -слово2").

### 8. Анализ закона Zipf

Для генерации данных о частоте слов и построения графика закона Zipf используйте альтернативный Python-скрипт:

```bash
python3 scripts/generate_zipf_python.py
python3 scripts/plot_zipf.py
```

График будет сохранен в `images/zipf.png`, данные в `data/zipf.csv`.

---
